# -*- coding: utf-8 -*-
"""Simple example.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1TFodUwt9IDRIDd4FizfPQBKDNW9lX6G2
"""

import matplotlib.pyplot as plt
import glob

import io3d
import sed3

import numpy as np

import bodynavigation

fn = glob.glob('images/Batch_Series_INS_8023/*.mhd')

data3d_dict = io3d.read(fn[0])

data_directory = 'images/Batch_Series_INS_8023'
series_ID = '1.3.6.1.4.1.43276.1.3.20210611.1113419.1750.11904.16783.80231.0000005125'

ss = bodynavigation.body_navigation.BodyNavigation(data3d_dict['data3d'], data3d_dict['voxelsize_mm'])

"""# Diaphragm"""

seg = ss.get_diaphragm_mask().astype(np.uint8)

plt.figure(figsize=(15, 15))
sed3.show_slices(data3d_dict.data3d, seg * 2, slice_step=60, axis=1)
